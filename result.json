["fcb3c93728e025ebcd2e1390c7df716d86cf7644","dc89ec1b5724cb6fc0d1eb3a9e2910a74a9a43d5",{"fromJSON.go":"{\"file\":\"fromJSON.go\",\"items\":[{\"type\":\"*\",\"string\":\"package main\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"import (\"},{\"type\":\"*\",\"string\":\"\\t\\\"encoding/json\\\"\"},{\"type\":\"*\",\"string\":\"\\t\\\"fmt\\\"\"},{\"type\":\"*\",\"string\":\"\\t\\\"io/ioutil\\\"\"},{\"type\":\"*\",\"string\":\"\\t\\\"os/exec\\\"\"},{\"type\":\"*\",\"string\":\"\\t\\\"sort\\\"\"},{\"type\":\"*\",\"string\":\"\\t\\\"strings\\\"\"},{\"type\":\"*\",\"string\":\")\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"type Change struct {\"},{\"type\":\"*\",\"string\":\"\\tType          string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\tOldLineNumber int    `json:\\\"old_line_number\\\"`\"},{\"type\":\"*\",\"string\":\"\\tNewLineNumber int    `json:\\\"new_line_number\\\"`\"},{\"type\":\"*\",\"string\":\"\\tContent       string `json:\\\"content\\\"`\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"type FileDiff struct {\"},{\"type\":\"*\",\"string\":\"\\tName    string   `json:\\\"name\\\"`\"},{\"type\":\"*\",\"string\":\"\\tChanges []Change `json:\\\"changes\\\"`\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"type DiffData struct {\"},{\"type\":\"-\",\"string\":\"\\tCommit1 string      `json:\\\"commit1\\\"`\"},{\"type\":\"+\",\"string\":\"\\tCommit1 string     `json:\\\"commit1\\\"`\"},{\"type\":\"-\",\"string\":\"\\tCommit2 string      `json:\\\"commit2\\\"`\"},{\"type\":\"+\",\"string\":\"\\tCommit2 string     `json:\\\"commit2\\\"`\"},{\"type\":\"*\",\"string\":\"\\tFiles   []FileDiff `json:\\\"files\\\"`\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"type Content struct {\"},{\"type\":\"*\",\"string\":\"\\tFile  string `json:\\\"file\\\"`\"},{\"type\":\"*\",\"string\":\"\\tItems []struct {\"},{\"type\":\"*\",\"string\":\"\\t\\tType   string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\tString string `json:\\\"string\\\"`\"},{\"type\":\"*\",\"string\":\"\\t} `json:\\\"items\\\"`\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"func readJSONFromFile(filePath string) (DiffData, error) {\"},{\"type\":\"*\",\"string\":\"\\tfileContent, err := ioutil.ReadFile(filePath)\"},{\"type\":\"*\",\"string\":\"\\tif err != nil {\"},{\"type\":\"*\",\"string\":\"\\t\\treturn DiffData{}, err\"},{\"type\":\"*\",\"string\":\"\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\tvar diffData DiffData\"},{\"type\":\"*\",\"string\":\"\\terr = json.Unmarshal(fileContent, \\u0026diffData)\"},{\"type\":\"*\",\"string\":\"\\tif err != nil {\"},{\"type\":\"*\",\"string\":\"\\t\\treturn DiffData{}, err\"},{\"type\":\"*\",\"string\":\"\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\treturn diffData, nil\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"func getFullCode(commit, fileName string) (string, error) {\"},{\"type\":\"*\",\"string\":\"\\tcmd := exec.Command(\\\"git\\\", \\\"show\\\", fmt.Sprintf(\\\"%s:%s\\\", commit, fileName))\"},{\"type\":\"*\",\"string\":\"\\toutput, err := cmd.Output()\"},{\"type\":\"*\",\"string\":\"\\tif err != nil {\"},{\"type\":\"*\",\"string\":\"\\t\\treturn \\\"\\\", err\"},{\"type\":\"*\",\"string\":\"\\t}\"},{\"type\":\"*\",\"string\":\"\\treturn string(output), nil\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"func main() {\"},{\"type\":\"*\",\"string\":\"\\tfilePath := \\\"diff.json\\\"\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\tdiffData, err := readJSONFromFile(filePath)\"},{\"type\":\"*\",\"string\":\"\\tif err != nil {\"},{\"type\":\"*\",\"string\":\"\\t\\tfmt.Println(\\\"Error reading JSON file:\\\", err)\"},{\"type\":\"*\",\"string\":\"\\t\\treturn\"},{\"type\":\"*\",\"string\":\"\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t// Array to store the required elements\"},{\"type\":\"*\",\"string\":\"\\tvar resultArray []interface{}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t// Add commit1\"},{\"type\":\"*\",\"string\":\"\\tresultArray = append(resultArray, diffData.Commit1)\"},{\"type\":\"*\",\"string\":\"\\tresultArray = append(resultArray, diffData.Commit2)\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\tfor _, fileDiff := range diffData.Files {\"},{\"type\":\"*\",\"string\":\"\\t\\tadditions := make(map[int]string)\"},{\"type\":\"*\",\"string\":\"\\t\\tdeletions := make(map[int]string)\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tfor _, change := range fileDiff.Changes {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tif change.Type == \\\"addition\\\" {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tadditions[change.NewLineNumber] = change.Content\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t} else if change.Type == \\\"deletion\\\" {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tdeletions[change.OldLineNumber] = change.Content\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t}\"},{\"type\":\"*\",\"string\":\"\\t\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tvar additionKeys []int\"},{\"type\":\"*\",\"string\":\"\\t\\tvar deletionKeys []int\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tfor key := range additions {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tadditionKeys = append(additionKeys, key)\"},{\"type\":\"*\",\"string\":\"\\t\\t}\"},{\"type\":\"*\",\"string\":\"\\t\\tsort.Ints(additionKeys)\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tfor key := range deletions {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tdeletionKeys = append(deletionKeys, key)\"},{\"type\":\"*\",\"string\":\"\\t\\t}\"},{\"type\":\"*\",\"string\":\"\\t\\tsort.Ints(deletionKeys)\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tfullCode, err := getFullCode(diffData.Commit2, fileDiff.Name)\"},{\"type\":\"*\",\"string\":\"\\t\\tif err != nil {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tfmt.Printf(\\\"Error getting full code for file %s: %v\\\\n\\\", fileDiff.Name, err)\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tcontinue\"},{\"type\":\"*\",\"string\":\"\\t\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tvar fileContent Content\"},{\"type\":\"*\",\"string\":\"\\t\\tfileContent.File = fileDiff.Name\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\ti := 0\"},{\"type\":\"*\",\"string\":\"\\t\\tfor _, line := range strings.Split(fullCode, \\\"\\\\n\\\") {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\tif deletion, ok := deletions[i+1]; ok {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tfileContent.Items = append(fileContent.Items, struct {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tType   string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tString string `json:\\\"string\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t}{Type: \\\"-\\\", String: deletion})\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tif addition, ok := additions[i+1]; ok {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tfileContent.Items = append(fileContent.Items, struct {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\t\\tType   string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\t\\tString string `json:\\\"string\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\t}{Type: \\\"+\\\", String: addition})\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\ti++\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tcontinue\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t}\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t} else if addition, ok := additions[i+1]; ok {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tfileContent.Items = append(fileContent.Items, struct {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tType   string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tString string `json:\\\"string\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t}{Type: \\\"+\\\", String: addition})\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\ti++\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tcontinue\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t} else {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\tfileContent.Items = append(fileContent.Items, struct {\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tType   string `json:\\\"type\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t\\tString string `json:\\\"string\\\"`\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t\\t}{Type: \\\"*\\\", String: line})\"},{\"type\":\"*\",\"string\":\"\\t\\t\\t}\"},{\"type\":\"*\",\"string\":\"\\t\\t\\ti++\"},{\"type\":\"*\",\"string\":\"\\t\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\t// Append the file content directly to the result array\"},{\"type\":\"*\",\"string\":\"\\t\\tresultArray = append(resultArray, fileContent)\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\t\\tfmt.Printf(\\\"Output for file %s processed\\\\n\\\", fileDiff.Name)\"},{\"type\":\"*\",\"string\":\"\\t}\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"}]}","main.go":"{\"file\":\"main.go\",\"items\":[{\"type\":\"*\",\"string\":\"package main\"},{\"type\":\"*\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"var db = database{nil}\"},{\"type\":\"-\",\"string\":\"\\tvar db = database{nil}\"},{\"type\":\"+\",\"string\":\"var db = database{nil}\"},{\"type\":\"+\",\"string\":\"\"},{\"type\":\"*\",\"string\":\"\\tdb.connector()\"},{\"type\":\"*\",\"string\":\"\\tdb.dropTables()\"},{\"type\":\"*\",\"string\":\"\\t//db.createDifferenceTable()\"},{\"type\":\"*\",\"string\":\"\\t//db.createInfoTable()\"},{\"type\":\"*\",\"string\":\"\\tdefer db.db.Close()\"},{\"type\":\"*\",\"string\":\"}\"},{\"type\":\"*\",\"string\":\"\"}]}"}]